var Utils={getBarData:function(e){var s=e.children,a={labels:[],series:[]},l=[];return s.forEach(function(e){a.labels.push(e.name),l.push(e.children.length)}),a.series.push({label:"Projects count",values:l}),a}};
var Search=function(){var e,o,r,t=[],c={q:"onebitxy",sort:"forks",order:"desc",per_page:100};return{init:function(n){e=n,r=d3.select("#search-btn"),o=d3.select("#search-input"),r.on("click",function(){var r=function(n){c.q=n||"onebitxy";var r=[];for(var o in c)r.push(o+"="+c[o]);return e+"?"+r.join("&")}(o.property("value"));console.log(r),t.forEach(function(n){try{n(r)}catch(n){console.log(n)}})})},addListener:function(n){t.push(n)}}}();
var Bar=function(){var d,f=300,h=20,g=0,p=10,x=150,v=150,m=[];return{init:function(t,e){d3.select("#barTitle").text(t),chart=d3.select(e).append("svg").attr("class","chart")},show:function(t){!function(r){m=[],g=h*(r=r||{}).series.length,function(t){for(var e=0;e<t.labels.length;e++)for(var r=0;r<t.series.length;r++)m.push(t.series[r].values[e])}(r);var a=d3.scaleOrdinal(d3.schemeCategory20),t=h*m.length+p*r.labels.length,e=d3.scaleLinear().domain([0,d3.max(m)]).range([0,f]),n=d3.scaleLinear().range([t+p,0]);d=d3.axisLeft(n).tickFormat("").tickSize(0);var l=chart.attr("width",x+f+v).attr("height",t),s=l.selectAll("g").data(m,function(t,e){return[t,e]}),i=s.enter().append("g").attr("transform",function(t,e){return"translate("+x+","+(e*h+p*(.5+Math.floor(e/r.series.length)))+")"});i.append("rect").attr("fill",function(t,e){return a(e%r.series.length)}).attr("class","bar").attr("width",e).attr("height",h-1),i.append("text").attr("x",function(t){return e(t)-3}).attr("y",h/2).attr("fill","red").attr("dy",".35em").text(function(t){return t}),i.append("text").attr("class","label").attr("x",function(t){return-10}).attr("y",g/2).attr("dy",".35em").text(function(t,e){return e%r.series.length==0?r.labels[Math.floor(e/r.series.length)]:""}),s.exit().transition().remove(),l.append("g").attr("class","y axis").attr("transform","translate("+x+", "+-p/2+")").call(d);var c=18,o=l.selectAll(".legend").data(r.series),u=o.enter().append("g").attr("transform",function(t,e){var r=-p/2,a=x+f+40-c,n=22*e-r;return"translate("+a+","+n+")"});u.append("rect").attr("width",c).attr("height",c).style("fill",function(t,e){return a(e)}).style("stroke",function(t,e){return a(e)}),u.append("text").attr("class","legend").attr("x",22).attr("y",14).text(function(t){return t.label}),o.exit().remove()}(t)}}}();
!function(){var e="http://127.0.0.1:8081/api/repo/search",i=document.getElementById("onesadl");function a(t){t=t||e;var n=setTimeout(function(){i.style.display="block"},300);d3.json(t,function(t,e){t&&(clearTimeout(n),i.style.display="none",alert("LOAD ERROR! CHECK NETWORK..."));var a=e.data;Bar.show(Utils.getBarData(a)),clearTimeout(n),i.style.display="none"})}Search.init(e),Bar.init("TOP DEV LANGUAGES","#barId"),Search.addListener(function(t){a(t)}),a()}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlcG8vdXRpbC5qcyIsInJlcG8vc2VhcmNoLmpzIiwicmVwby9iYXIuanMiLCJyZXBvL21haW4uanMiXSwibmFtZXMiOlsiVXRpbHMiLCJnZXRCYXJEYXRhIiwiZGF0YSIsIml0ZW1zIiwiY2hpbGRyZW4iLCJyZXN1bHQiLCJsYWJlbHMiLCJzZXJpZXMiLCJ2YWx1ZXMiLCJmb3JFYWNoIiwiaXRlbSIsInB1c2giLCJuYW1lIiwibGVuZ3RoIiwibGFiZWwiLCJTZWFyY2giLCJhcGlVcmwiLCJpbnB1dFR4dCIsInNlYXJjaEJ0biIsImxpc3RlbmVycyIsInF1ZXJ5IiwicSIsInNvcnQiLCJvcmRlciIsInBlcl9wYWdlIiwiaW5pdCIsInVybCIsImQzIiwic2VsZWN0Iiwib24iLCJyZXF1ZXN0VXJsIiwicVN0ciIsImFyciIsImtleSIsImpvaW4iLCJwYXJzZVNlYXJjaFVybCIsInByb3BlcnR5IiwiY29uc29sZSIsImxvZyIsImxpc3RlbmVyIiwiZXJyb3IiLCJhZGRMaXN0ZW5lciIsIkJhciIsInlBeGlzIiwiY2hhcnRXaWR0aCIsImJhckhlaWdodCIsImdyb3VwSGVpZ2h0IiwiZ2FwQmV0d2Vlbkdyb3VwcyIsInNwYWNlRm9yTGFiZWxzIiwic3BhY2VGb3JMZWdlbmQiLCJ6aXBwZWREYXRhIiwidGl0bGUiLCJiYXJJZCIsInRleHQiLCJjaGFydCIsImFwcGVuZCIsImF0dHIiLCJzaG93IiwiaSIsImoiLCJ6aXBwaW5nRGF0YSIsImNvbG9yIiwic2NhbGVPcmRpbmFsIiwic2NoZW1lQ2F0ZWdvcnkyMCIsImNoYXJ0SGVpZ2h0IiwieCIsInNjYWxlTGluZWFyIiwiZG9tYWluIiwibWF4IiwicmFuZ2UiLCJ5IiwiYXhpc0xlZnQiLCJ0aWNrRm9ybWF0IiwidGlja1NpemUiLCJzdmciLCJiYXJOb2RlcyIsInNlbGVjdEFsbCIsImQiLCJiYXIiLCJlbnRlciIsIk1hdGgiLCJmbG9vciIsImV4aXQiLCJ0cmFuc2l0aW9uIiwicmVtb3ZlIiwiY2FsbCIsImxlZ2VuZFJlY3RTaXplIiwibGVnZW5kRGF0YSIsImxlZ2VuZCIsIm9mZnNldCIsImhvcnoiLCJ2ZXJ0Iiwic3R5bGUiLCJzaG93QmFyIiwiU0VBUkNIX0FQSSIsImxvYWRpbmciLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwibG9hZGVyIiwic2V0VGltZW91dCIsImRpc3BsYXkiLCJqc29uIiwiZXJyIiwiY2xlYXJUaW1lb3V0IiwiYWxlcnQiXSwibWFwcGluZ3MiOiJBQUFBLElBQUlBLE9BRUlDLFdBQVksU0FBU0MsR0FDakIsSUFBSUMsRUFBUUQsRUFBS0UsU0FDYkMsR0FDSUMsVUFDQUMsV0FFSkMsS0FZSixPQVZBTCxFQUFNTSxRQUFRLFNBQVNDLEdBQ25CTCxFQUFPQyxPQUFPSyxLQUFLRCxFQUFLRSxNQUN4QkosRUFBT0csS0FBS0QsRUFBS04sU0FBU1MsVUFHOUJSLEVBQU9FLE9BQU9JLE1BQ1ZHLE1BQU8saUJBQ1BOLE9BQVFBLElBR0xIO0FDcEJuQixJQUFJVSxPQUFVLFdBQ1YsSUFDSUMsRUFDQUMsRUFDQUMsRUFDQUMsS0FDQUMsR0FDSUMsRUFBRyxXQUNIQyxLQUFNLFFBQ05DLE1BQU8sT0FDUEMsU0FBVSxLQUdsQixPQUNJQyxLQUFNLFNBQVNDLEdBQ1hWLEVBQVNVLEVBRVRSLEVBQVlTLEdBQUdDLE9BQU8sZUFDdEJYLEVBQVdVLEdBQUdDLE9BQU8saUJBQ3JCVixFQUFVVyxHQUFHLFFBQVMsV0FDbEIsSUFDSUMsRUFpQmhCLFNBQXdCQyxHQUNwQlgsRUFBTUMsRUFBSVUsR0FBUSxXQUVsQixJQUFJQyxLQUNKLElBQUssSUFBSUMsS0FBT2IsRUFDWlksRUFBSXJCLEtBQUtzQixFQUFNLElBQU1iLEVBQU1hLElBRy9CLE9BQU9qQixFQUFTLElBQU1nQixFQUFJRSxLQUFLLEtBekJOQyxDQURObEIsRUFBU21CLFNBQVMsVUFFN0JDLFFBQVFDLElBQUlSLEdBQ1pYLEVBQVVWLFFBQVEsU0FBUzhCLEdBQ3ZCLElBQ0lBLEVBQVNULEdBQ1gsTUFBT1UsR0FDTEgsUUFBUUMsSUFBSUUsU0FN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ImZpbGUiOiJzYWRsLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBVdGlscyA9IChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBnZXRCYXJEYXRhOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICB2YXIgaXRlbXMgPSBkYXRhLmNoaWxkcmVuO1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgc2VyaWVzOiBbXVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdmFsdWVzID0gW107XG5cbiAgICAgICAgICAgIGl0ZW1zLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5sYWJlbHMucHVzaChpdGVtLm5hbWUpO1xuICAgICAgICAgICAgICAgIHZhbHVlcy5wdXNoKGl0ZW0uY2hpbGRyZW4ubGVuZ3RoKTtcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIHJlc3VsdC5zZXJpZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgbGFiZWw6ICdQcm9qZWN0cyBjb3VudCcsXG4gICAgICAgICAgICAgICAgdmFsdWVzOiB2YWx1ZXNcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICB9XG59KCkpIiwidmFyIFNlYXJjaCA9IChmdW5jdGlvbigpIHtcbiAgICB2YXIgdXJsID0gJycsXG4gICAgICAgIGFwaVVybCxcbiAgICAgICAgaW5wdXRUeHQsXG4gICAgICAgIHNlYXJjaEJ0bixcbiAgICAgICAgbGlzdGVuZXJzID0gW10sXG4gICAgICAgIHF1ZXJ5ID0ge1xuICAgICAgICAgICAgcTogJ29uZWJpdHh5JyxcbiAgICAgICAgICAgIHNvcnQ6IFwiZm9ya3NcIixcbiAgICAgICAgICAgIG9yZGVyOiBcImRlc2NcIixcbiAgICAgICAgICAgIHBlcl9wYWdlOiAxMDBcbiAgICAgICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uKHVybCkge1xuICAgICAgICAgICAgYXBpVXJsID0gdXJsO1xuXG4gICAgICAgICAgICBzZWFyY2hCdG4gPSBkMy5zZWxlY3QoJyNzZWFyY2gtYnRuJyk7XG4gICAgICAgICAgICBpbnB1dFR4dCA9IGQzLnNlbGVjdCgnI3NlYXJjaC1pbnB1dCcpO1xuICAgICAgICAgICAgc2VhcmNoQnRuLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciBxU3RyID0gaW5wdXRUeHQucHJvcGVydHkoJ3ZhbHVlJyk7XG4gICAgICAgICAgICAgICAgdmFyIHJlcXVlc3RVcmwgPSBwYXJzZVNlYXJjaFVybChxU3RyKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXF1ZXN0VXJsKTtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIocmVxdWVzdFVybCk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSxcblxuICAgICAgICBhZGRMaXN0ZW5lcjogZnVuY3Rpb24obGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBwYXJzZVNlYXJjaFVybChxU3RyKSB7XG4gICAgICAgIHF1ZXJ5LnEgPSBxU3RyIHx8ICdvbmViaXR4eSc7XG4gICAgICAgIFxuICAgICAgICB2YXIgYXJyID0gW107XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBxdWVyeSkge1xuICAgICAgICAgICAgYXJyLnB1c2goa2V5ICsgJz0nICsgcXVlcnlba2V5XSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGFwaVVybCArICc/JyArIGFyci5qb2luKCcmJyk7XG4gICAgfVxufSgpKSIsInZhciBCYXIgPSAoZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNoYXJ0V2lkdGggPSAzMDAsXG4gICAgICAgIGJhckhlaWdodCA9IDIwLFxuICAgICAgICBncm91cEhlaWdodCA9IDAsXG4gICAgICAgIGdhcEJldHdlZW5Hcm91cHMgPSAxMCxcbiAgICAgICAgc3BhY2VGb3JMYWJlbHMgPSAxNTAsXG4gICAgICAgIHNwYWNlRm9yTGVnZW5kID0gMTUwLFxuICAgICAgICBzdmcsXG4gICAgICAgIGRhdGEsXG4gICAgICAgIHlBeGlzO1xuXG4gICAgLy8gWmlwIHRoZSBzZXJpZXMgZGF0YSB0b2dldGhlciAoZmlyc3QgdmFsdWVzLCBzZWNvbmQgdmFsdWVzLCBldGMuKVxuICAgIHZhciB6aXBwZWREYXRhID0gW107XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBpbml0OiBmdW5jdGlvbih0aXRsZSwgYmFySWQpIHtcbiAgICAgICAgICAgIGQzLnNlbGVjdChcIiNiYXJUaXRsZVwiKS50ZXh0KHRpdGxlKTtcbiAgICAgICAgICAgIGNoYXJ0ID0gZDMuc2VsZWN0KGJhcklkKVxuICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXCJzdmdcIilcbiAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwiY2hhcnRcIik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2hvdzogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgc2hvd0JhcihkYXRhKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHppcHBpbmdEYXRhKGRhdGEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxhYmVscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBkYXRhLnNlcmllcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIHppcHBlZERhdGEucHVzaChkYXRhLnNlcmllc1tqXS52YWx1ZXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2hvd0JhcihkYXRhKSB7XG4gICAgICAgIGRhdGEgPSBkYXRhIHx8IHt9OyAgICAgIFxuICAgICAgICB6aXBwZWREYXRhID0gW107IC8vQ2xlYW5cbiAgICAgICAgZ3JvdXBIZWlnaHQgPSBiYXJIZWlnaHQgKiBkYXRhLnNlcmllcy5sZW5ndGg7XG4gICAgICAgIHppcHBpbmdEYXRhKGRhdGEpO1xuXG4gICAgICAgIC8vIENvbG9yIHNjYWxlXG4gICAgICAgIC8vIHZhciBjb2xvciA9IGQzLnNjaGVtZUNhdGVnb3J5MjAoKTtcbiAgICAgICAgdmFyIGNvbG9yID0gZDMuc2NhbGVPcmRpbmFsKGQzLnNjaGVtZUNhdGVnb3J5MjApO1xuICAgICAgICB2YXIgY2hhcnRIZWlnaHQgPSBiYXJIZWlnaHQgKiB6aXBwZWREYXRhLmxlbmd0aCArIGdhcEJldHdlZW5Hcm91cHMgKiBkYXRhLmxhYmVscy5sZW5ndGg7XG5cbiAgICAgICAgdmFyIHggPSBkMy5zY2FsZUxpbmVhcigpXG4gICAgICAgICAgICAuZG9tYWluKFswLCBkMy5tYXgoemlwcGVkRGF0YSldKVxuICAgICAgICAgICAgLnJhbmdlKFswLCBjaGFydFdpZHRoXSk7XG5cbiAgICAgICAgdmFyIHkgPSBkMy5zY2FsZUxpbmVhcigpXG4gICAgICAgICAgICAucmFuZ2UoW2NoYXJ0SGVpZ2h0ICsgZ2FwQmV0d2Vlbkdyb3VwcywgMF0pO1xuXG5cbiAgICAgICAgeUF4aXMgPSBkMy5heGlzTGVmdCh5KVxuICAgICAgICAgICAgICAgICAgLnRpY2tGb3JtYXQoJycpXG4gICAgICAgICAgICAgICAgICAudGlja1NpemUoMCk7XG5cbiAgICAgICAgdmFyIHN2ZyA9IGNoYXJ0XG4gICAgICAgICAgICAuYXR0cihcIndpZHRoXCIsIHNwYWNlRm9yTGFiZWxzICsgY2hhcnRXaWR0aCArIHNwYWNlRm9yTGVnZW5kKVxuICAgICAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgY2hhcnRIZWlnaHQpO1xuXG4gICAgICAgIC8vIEdldCB0aGUgbm9kZXNcbiAgICAgICAgdmFyIGJhck5vZGVzID0gc3ZnLnNlbGVjdEFsbChcImdcIikuZGF0YSh6aXBwZWREYXRhLCBmdW5jdGlvbiAoZCwgaSkge1xuICAgICAgICAgICAgcmV0dXJuIFtkLCBpXTtcbiAgICAgICAgfSlcblxuICAgICAgICAvLyBDcmVhdGUgYmFyc1xuICAgICAgICB2YXIgYmFyID0gYmFyTm9kZXNcbiAgICAgICAgICAgIC5lbnRlcigpXG4gICAgICAgICAgICAuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZnVuY3Rpb24oZCwgaSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcInRyYW5zbGF0ZShcIiArIHNwYWNlRm9yTGFiZWxzICsgXCIsXCIgKyAoaSAqIGJhckhlaWdodCArIGdhcEJldHdlZW5Hcm91cHMgKiAoMC41ICsgTWF0aC5mbG9vcihpIC8gZGF0YS5zZXJpZXMubGVuZ3RoKSkpICsgXCIpXCI7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAvLyBDcmVhdGUgcmVjdGFuZ2xlcyBvZiB0aGUgY29ycmVjdCB3aWR0aFxuICAgICAgICBiYXIuYXBwZW5kKFwicmVjdFwiKVxuICAgICAgICAgICAgLmF0dHIoXCJmaWxsXCIsIGZ1bmN0aW9uKGQsIGkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3IoaSAlIGRhdGEuc2VyaWVzLmxlbmd0aCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImJhclwiKVxuICAgICAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCB4KVxuICAgICAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgYmFySGVpZ2h0IC0gMSk7XG5cbiAgICAgICAgLy8gQWRkIHRleHQgbGFiZWwgaW4gYmFyXG4gICAgICAgIGJhci5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAgICAgICAuYXR0cihcInhcIiwgZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB4KGQpIC0gMztcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuYXR0cihcInlcIiwgYmFySGVpZ2h0IC8gMilcbiAgICAgICAgICAgIC5hdHRyKFwiZmlsbFwiLCBcInJlZFwiKVxuICAgICAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi4zNWVtXCIpXG4gICAgICAgICAgICAudGV4dChmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGQ7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAvLyBEcmF3IGxhYmVsc1xuICAgICAgICBiYXIuYXBwZW5kKFwidGV4dFwiKVxuICAgICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImxhYmVsXCIpXG4gICAgICAgICAgICAuYXR0cihcInhcIiwgZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAtMTA7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmF0dHIoXCJ5XCIsIGdyb3VwSGVpZ2h0IC8gMilcbiAgICAgICAgICAgIC5hdHRyKFwiZHlcIiwgXCIuMzVlbVwiKVxuICAgICAgICAgICAgLnRleHQoZnVuY3Rpb24oZCwgaSkge1xuICAgICAgICAgICAgICAgIGlmIChpICUgZGF0YS5zZXJpZXMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YS5sYWJlbHNbTWF0aC5mbG9vcihpIC8gZGF0YS5zZXJpZXMubGVuZ3RoKV07XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcIlxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gRGVsZXRlIHRoZSBleHRyYSBub2Rlc1xuICAgICAgICBiYXJOb2Rlcy5leGl0KClcbiAgICAgICAgICAgIC50cmFuc2l0aW9uKClcbiAgICAgICAgICAgIC8vIC5zdHlsZSh7XG4gICAgICAgICAgICAvLyAgICAgb3BhY2l0eTogMFxuICAgICAgICAgICAgLy8gfSlcbiAgICAgICAgICAgIC5yZW1vdmUoKTtcblxuICAgICAgICBzdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcInkgYXhpc1wiKVxuICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyBzcGFjZUZvckxhYmVscyArIFwiLCBcIiArIC1nYXBCZXR3ZWVuR3JvdXBzIC8gMiArIFwiKVwiKVxuICAgICAgICAgICAgLmNhbGwoeUF4aXMpO1xuXG4gICAgICAgIC8vIERyYXcgbGVnZW5kXG4gICAgICAgIHZhciBsZWdlbmRSZWN0U2l6ZSA9IDE4LFxuICAgICAgICAgICAgbGVnZW5kU3BhY2luZyA9IDQ7XG5cbiAgICAgICAgdmFyIGxlZ2VuZERhdGEgPSBzdmcuc2VsZWN0QWxsKCcubGVnZW5kJylcbiAgICAgICAgICAgIC5kYXRhKGRhdGEuc2VyaWVzKTtcblxuICAgICAgICB2YXIgbGVnZW5kID0gbGVnZW5kRGF0YVxuICAgICAgICAgICAgLmVudGVyKClcbiAgICAgICAgICAgIC5hcHBlbmQoJ2cnKVxuICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uKGQsIGkpIHtcbiAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0ID0gbGVnZW5kUmVjdFNpemUgKyBsZWdlbmRTcGFjaW5nO1xuICAgICAgICAgICAgICAgIHZhciBvZmZzZXQgPSAtZ2FwQmV0d2Vlbkdyb3VwcyAvIDI7XG4gICAgICAgICAgICAgICAgdmFyIGhvcnogPSBzcGFjZUZvckxhYmVscyArIGNoYXJ0V2lkdGggKyA0MCAtIGxlZ2VuZFJlY3RTaXplO1xuICAgICAgICAgICAgICAgIHZhciB2ZXJ0ID0gaSAqIGhlaWdodCAtIG9mZnNldDtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgnICsgaG9yeiArICcsJyArIHZlcnQgKyAnKSc7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICBsZWdlbmQuYXBwZW5kKCdyZWN0JylcbiAgICAgICAgICAgIC5hdHRyKCd3aWR0aCcsIGxlZ2VuZFJlY3RTaXplKVxuICAgICAgICAgICAgLmF0dHIoJ2hlaWdodCcsIGxlZ2VuZFJlY3RTaXplKVxuICAgICAgICAgICAgLnN0eWxlKCdmaWxsJywgZnVuY3Rpb24oZCwgaSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb2xvcihpKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuc3R5bGUoJ3N0cm9rZScsIGZ1bmN0aW9uKGQsIGkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3IoaSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICBsZWdlbmQuYXBwZW5kKCd0ZXh0JylcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdsZWdlbmQnKVxuICAgICAgICAgICAgLmF0dHIoJ3gnLCBsZWdlbmRSZWN0U2l6ZSArIGxlZ2VuZFNwYWNpbmcpXG4gICAgICAgICAgICAuYXR0cigneScsIGxlZ2VuZFJlY3RTaXplIC0gbGVnZW5kU3BhY2luZylcbiAgICAgICAgICAgIC50ZXh0KGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZC5sYWJlbDtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIGxlZ2VuZERhdGEuZXhpdCgpLnJlbW92ZSgpO1xuICAgIH1cbn0oKSkiLCIoZnVuY3Rpb24oKSB7XG4gICAgdmFyIFNFQVJDSF9BUEkgPSAnaHR0cDovLzEyNy4wLjAuMTo4MDgxL2FwaS9yZXBvL3NlYXJjaCc7XG4gICAgdmFyIGxvYWRpbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm9uZXNhZGxcIik7XG5cbiAgICBTZWFyY2guaW5pdChTRUFSQ0hfQVBJKTtcblxuICAgIEJhci5pbml0KFwiVE9QIERFViBMQU5HVUFHRVNcIiwgXCIjYmFySWRcIik7XG5cblxuICAgIGZ1bmN0aW9uIHNob3codXJsKSB7XG4gICAgICAgIHVybCA9IHVybCB8fCBTRUFSQ0hfQVBJO1xuXG4gICAgICAgIHZhciBsb2FkZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbG9hZGluZy5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICB9LCAzMDApO1xuXG4gICAgICAgIGQzLmpzb24odXJsLCBmdW5jdGlvbihlcnIsIHJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChsb2FkZXIpO1xuICAgICAgICAgICAgICAgIGxvYWRpbmcuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIGFsZXJ0KFwiTE9BRCBFUlJPUiEgQ0hFQ0sgTkVUV09SSy4uLlwiKVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmFyIGRhdGEgPSByZXN1bHQuZGF0YTtcbiAgICAgICAgICAgIEJhci5zaG93KFV0aWxzLmdldEJhckRhdGEoZGF0YSkpO1xuXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQobG9hZGVyKTtcbiAgICAgICAgICAgIGxvYWRpbmcuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBTZWFyY2guYWRkTGlzdGVuZXIoZnVuY3Rpb24odXJsKSB7XG4gICAgICAgIHNob3codXJsKTtcbiAgICB9KVxuXG4gICAgc2hvdygpO1xufSkoKSJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
